<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qianfeng.dao.BusinessinfoDao">

    <!--##开辟账户商家信息-->
    <insert id="insertBusinessInfo" parameterType="int">
        insert into businessinfo(business_id) values(#{business_id})
    </insert>
<!--******************************************************************************************-->

    <select id="selectBusinessUserByID" parameterType="int" resultType="com.qianfeng.pojo.BusinessUserInfo">
        select
            b.business_username,
            i.business_info_name,
            i.business_info_legal_persion,
            i.business_info_legal_persion_tel,
            p.business_pass_word
        from business b,businessinfo i,businesspass p
        where b.business_id = i.business_id and b.business_id = p.business_id and b.business_id = #{business_id}

    </select>
    <!-- ##修改商户信息-->
    <update id="updateBusinessAllData" parameterType="com.qianfeng.pojo.Businessinfo">
        update businessinfo
        set business_info_name = #{business_info_name},
            business_info_legal_persion = #{business_info_legal_persion},
            business_info_legal_persion_tel = #{business_info_legal_persion_tel}
        where business_id = #{business_id};
    </update>

    <!--查询商户列表-->
    <select id="selectBusinessUserAllInfo" resultType="com.qianfeng.pojo.BusinessUserInfo">
        select  b.business_id,
				b.business_username,
				i.business_info_name,
				i.business_info_legal_persion,
				i.business_info_legal_persion_tel
        from business b,businessinfo i
        where b.business_id = i.business_id
    </select>




</mapper>